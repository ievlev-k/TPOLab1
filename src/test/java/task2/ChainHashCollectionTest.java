package task2;

import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;

import java.io.ByteArrayOutputStream;

import static org.junit.jupiter.api.Assertions.*;

public class ChainHashCollectionTest {
    static ChainHashCollection sorter;

    @BeforeAll
    static void createChainHahCollection(){
        sorter = new ChainHashCollection();
    }

    @Test
    void checkSort(){
        Integer[] array = new Integer[]{578, 266, 896, 373, 322, 535, 540, 244, 455, 402, 355, 419, 289, 54, 592, 998, 56, 176, 85, 603};
        Integer[] arraySort = new Integer[] {54, 56, 85, 176, 244, 266, 289, 322, 355, 373, 402, 419, 455, 535, 540, 578, 592, 603, 896, 998};
        assertArrayEquals(arraySort, sorter.sort(array));
    }

    @Test
    void checkEmpty(){
         Integer[] array = new Integer[]{};
         assertArrayEquals(new Integer[]{}, array);
    }

    @Test
    void checkNull() {
        Integer[] array = null;
        assertArrayEquals(null, sorter.sort(array));
    }

    @Test
    void checkRepeating(){
        Integer[] array = new Integer[]{5, 9 ,3 ,9, 3, 3, 5, 9, 9 };
        Integer[] arraySort = new Integer[]{3, 3, 3, 5, 5, 9, 9, 9, 9};
        assertArrayEquals(arraySort, sorter.sort(array));
    }

    @Test
    void checkBigDate(){
        Integer[] array = new Integer[]{478, 178, 990, 99, 256, 874, 571, 82, 438, 995, 213, 759, 741, 749, 568, 481, 557, 418, 728, 624, 896, 419, 184, 263, 274, 223, 153, 871, 403, 849, 150, 453, 903, 573, 596, 591, 55, 127, 431, 936, 401, 665, 208, 405, 562, 79, 19, 483, 755, 39, 300, 687, 713, 882, 929, 202, 134, 786, 451, 383, 158, 600, 878, 603, 244, 435, 552, 807, 682, 470, 886, 516, 7, 486, 594, 597, 67, 430, 401, 658, 911, 506, 977, 870, 519, 869, 231, 110, 529, 663, 70, 931, 503, 254, 404, 271, 343, 863, 654, 985, 365, 697, 372, 12, 126, 519, 327, 890, 653, 936, 735, 608, 195, 5, 529, 463, 191, 534, 598, 199, 757, 601, 319, 383, 723, 584, 59, 797, 470, 973, 427, 406, 579, 181, 885, 675, 529, 935, 140, 561, 500, 672, 41, 515, 821, 332, 427, 846, 212, 354, 593, 81, 520, 716, 624, 238, 661, 42, 937, 74, 76, 346, 338, 693, 336, 390, 404, 629, 956, 875, 76, 278, 707, 489, 331, 390, 407, 43, 856, 712, 539, 53, 206, 664, 900, 733, 256, 349, 634, 696, 608, 648, 932, 106, 255, 424, 97, 265, 830, 543, 291, 366, 851, 332, 918, 617, 32, 438, 751, 968, 254, 257, 311, 411, 863, 528, 615, 231, 368, 0, 701, 86, 949, 309, 636, 495, 38, 107, 370, 791, 719, 227, 930, 868, 214, 552, 626, 50, 741, 125, 352, 548, 712, 853, 685, 240, 696, 902, 179, 639, 134, 578, 515, 711, 555, 236, 375, 976, 276, 612, 950, 87, 883, 383, 205, 770, 424, 718, 443, 65, 982, 120, 157, 957, 426, 391, 216, 200, 583, 765, 878, 104, 85, 368, 527, 33, 968, 985, 880, 574, 900, 517, 129, 620, 85, 694, 113, 323, 973, 65, 868, 282, 887, 364, 956, 926, 897, 52, 13, 654, 598, 312, 170, 126, 721, 638, 422, 343, 190, 816, 293, 351, 74, 523, 489, 994, 11, 772, 40, 364, 297, 478, 378, 625, 68, 636, 928, 164, 703, 447, 552, 776, 10, 29, 381, 294, 910, 87, 555, 444, 258, 430, 41, 766, 666, 721, 783, 172, 623, 269, 743, 288, 913, 585, 192, 170, 688, 500, 309, 82, 387, 190, 684, 465, 703, 936, 938, 836, 33, 352, 27, 77, 159, 45, 856, 624, 697, 980, 105, 24, 333, 669, 674, 996, 784, 189, 179, 609, 744, 520, 158, 348, 606, 482, 941, 740, 713, 203, 188, 50, 437, 461, 354, 391, 267, 667, 637, 752, 610, 80, 155, 136, 491, 8, 77, 314, 42, 847, 382, 713, 824, 836, 593, 271, 406, 842, 512, 726, 252, 963, 65, 966, 415, 401, 419, 340, 544, 803, 566, 427, 633, 184, 896, 361, 859, 923, 804, 817, 828, 891, 278, 64, 612, 253, 361, 542, 350, 728, 105, 36, 267, 61, 436, 692, 305, 233, 194, 9, 971, 889, 6, 660, 907, 897, 789, 95, 955, 569, 420, 874, 960, 132, 174, 777, 167, 166, 346, 462, 170, 121, 763, 816, 603, 348, 545, 879, 825, 425, 108, 450, 80, 889, 305, 159, 51, 303, 830, 471, 653, 277, 319, 516, 12, 183, 467, 199, 711, 226, 416, 338, 934, 952, 994, 15, 512, 460, 491, 771, 946, 676, 517, 91, 555, 711, 443, 873, 741, 997, 686, 579, 133, 789, 490, 112, 748, 639, 152, 199, 422, 791, 383, 903, 375, 722, 612, 69, 541, 193, 744, 885, 689, 855, 600, 960, 871, 208, 520, 77, 245, 456, 233, 71, 801, 349, 586, 220, 906, 290, 546, 182, 561, 400, 363, 551, 496, 843, 474, 821, 184, 7, 859, 272, 185, 998, 362, 940, 58, 879, 500, 696, 152, 691, 836, 89, 187, 951, 225, 139, 876, 185, 500, 230, 731, 42, 416, 65, 470, 647, 410, 501, 363, 891, 768, 192, 414, 196, 574, 789, 30, 512, 739, 997, 113, 132, 138, 156, 944, 400, 245, 202, 134, 387, 587, 796, 282, 743, 770, 686, 683, 769, 632, 520, 403, 535, 219, 298, 564, 310, 601, 661, 47, 582, 65, 744, 668, 716, 432, 516, 356, 645, 80, 260, 90, 866, 75, 108, 792, 117, 213, 93, 21, 69, 623, 273, 468, 985, 600, 762, 8, 271, 334, 34, 155, 592, 346, 206, 366, 994, 298, 676, 587, 849, 728, 254, 598, 491, 815, 714, 754, 414, 997, 15, 479, 817, 228, 414, 665, 540, 155, 858, 717, 452, 898, 374, 388, 47, 723, 786, 682, 136, 875, 802, 264, 40, 191, 387, 325, 818, 332, 617, 931, 128, 743, 810, 998, 591, 915, 529, 920, 132, 288, 369, 423, 385, 168, 38, 615, 848, 158, 697, 236, 419, 0, 200, 336, 622, 227, 623, 323, 906, 229, 327, 913, 678, 853, 921, 349, 380, 238, 296, 563, 773, 259, 560, 626, 138, 117, 382, 440, 320, 360, 958, 792, 103, 564, 123, 727, 335, 910, 199, 821, 704, 222, 903, 806, 420, 396, 697, 536, 931, 668, 685, 103, 843, 912, 45, 755, 98, 565, 211, 91, 474, 725, 549, 515, 887, 907, 663, 393, 376, 982, 454, 614, 991, 364, 436, 551, 911, 272, 453, 939, 185, 775, 589, 599, 323, 852, 979, 117, 6, 107, 918, 244, 90, 706, 75, 176, 824, 379, 440, 346, 907, 254, 624, 922, 60, 891, 196, 952, 377, 422, 426, 931, 594, 787, 500, 217, 919, 649, 671, 4, 857, 803, 678, 86, 28, 89, 635, 323, 989, 461, 258, 373, 438, 73, 658, 661, 787, 150, 721, 565, 392, 152, 843, 403, 889, 101, 126, 791, 269, 500, 236, 885, 240, 986, 78, 950, 596, 407, 618, 993, 963, 239, 793, 727, 180, 389, 936, 956, 551, 858, 696, 249, 679, 915, 364, 471, 851, 449, 839, 166, 256, 505, 127, 803, 599, 588, 338, 888, 854, 961, 587, 437, 942, 429, 657, 156, 793, 997, 829, 586, 901, 434, 549, 337, 842, 852, 642, 275, 988, 786, 762, 602, 236, 508, 483, 218, 393, 292, 445, 887, 623, 857, 739, 283, 82, 523, 678, 552, 297 };
        Integer[] arraySort = new Integer[]{0, 0, 4, 5, 6, 6, 7, 7, 8, 8, 9, 10, 11, 12, 12, 13, 15, 15, 19, 21, 24, 27, 28, 29, 30, 32, 33, 33, 34, 36, 38, 38, 39, 40, 40, 41, 41, 42, 42, 42, 43, 45, 45, 47, 47, 50, 50, 51, 52, 53, 55, 58, 59, 60, 61, 64, 65, 65, 65, 65, 65, 67, 68, 69, 69, 70, 71, 73, 74, 74, 75, 75, 76, 76, 77, 77, 77, 78, 79, 80, 80, 80, 81, 82, 82, 82, 85, 85, 86, 86, 87, 87, 89, 89, 90, 90, 91, 91, 93, 95, 97, 98, 99, 101, 103, 103, 104, 105, 105, 106, 107, 107, 108, 108, 110, 112, 113, 113, 117, 117, 117, 120, 121, 123, 125, 126, 126, 126, 127, 127, 128, 129, 132, 132, 132, 133, 134, 134, 134, 136, 136, 138, 138, 139, 140, 150, 150, 152, 152, 152, 153, 155, 155, 155, 156, 156, 157, 158, 158, 158, 159, 159, 164, 166, 166, 167, 168, 170, 170, 170, 172, 174, 176, 178, 179, 179, 180, 181, 182, 183, 184, 184, 184, 185, 185, 185, 187, 188, 189, 190, 190, 191, 191, 192, 192, 193, 194, 195, 196, 196, 199, 199, 199, 199, 200, 200, 202, 202, 203, 205, 206, 206, 208, 208, 211, 212, 213, 213, 214, 216, 217, 218, 219, 220, 222, 223, 225, 226, 227, 227, 228, 229, 230, 231, 231, 233, 233, 236, 236, 236, 236, 238, 238, 239, 240, 240, 244, 244, 245, 245, 249, 252, 253, 254, 254, 254, 254, 255, 256, 256, 256, 257, 258, 258, 259, 260, 263, 264, 265, 267, 267, 269, 269, 271, 271, 271, 272, 272, 273, 274, 275, 276, 277, 278, 278, 282, 282, 283, 288, 288, 290, 291, 292, 293, 294, 296, 297, 297, 298, 298, 300, 303, 305, 305, 309, 309, 310, 311, 312, 314, 319, 319, 320, 323, 323, 323, 323, 325, 327, 327, 331, 332, 332, 332, 333, 334, 335, 336, 336, 337, 338, 338, 338, 340, 343, 343, 346, 346, 346, 346, 348, 348, 349, 349, 349, 350, 351, 352, 352, 354, 354, 356, 360, 361, 361, 362, 363, 363, 364, 364, 364, 364, 365, 366, 366, 368, 368, 369, 370, 372, 373, 374, 375, 375, 376, 377, 378, 379, 380, 381, 382, 382, 383, 383, 383, 383, 385, 387, 387, 387, 388, 389, 390, 390, 391, 391, 392, 393, 393, 396, 400, 400, 401, 401, 401, 403, 403, 403, 404, 404, 405, 406, 406, 407, 407, 410, 411, 414, 414, 414, 415, 416, 416, 418, 419, 419, 419, 420, 420, 422, 422, 422, 423, 424, 424, 425, 426, 426, 427, 427, 427, 429, 430, 430, 431, 432, 434, 435, 436, 436, 437, 437, 438, 438, 438, 440, 440, 443, 443, 444, 445, 447, 449, 450, 451, 452, 453, 453, 454, 456, 460, 461, 461, 462, 463, 465, 467, 468, 470, 470, 470, 471, 471, 474, 474, 478, 478, 479, 481, 482, 483, 483, 486, 489, 489, 490, 491, 491, 491, 495, 496, 500, 500, 500, 500, 500, 500, 501, 503, 505, 506, 508, 512, 512, 512, 515, 515, 515, 516, 516, 516, 517, 517, 519, 519, 520, 520, 520, 520, 523, 523, 527, 528, 529, 529, 529, 529, 534, 535, 536, 539, 540, 541, 542, 543, 544, 545, 546, 548, 549, 549, 551, 551, 551, 552, 552, 552, 552, 555, 555, 555, 557, 560, 561, 561, 562, 563, 564, 564, 565, 565, 566, 568, 569, 571, 573, 574, 574, 578, 579, 579, 582, 583, 584, 585, 586, 586, 587, 587, 587, 588, 589, 591, 591, 592, 593, 593, 594, 594, 596, 596, 597, 598, 598, 598, 599, 599, 600, 600, 600, 601, 601, 602, 603, 603, 606, 608, 608, 609, 610, 612, 612, 612, 614, 615, 615, 617, 617, 618, 620, 622, 623, 623, 623, 623, 624, 624, 624, 624, 625, 626, 626, 629, 632, 633, 634, 635, 636, 636, 637, 638, 639, 639, 642, 645, 647, 648, 649, 653, 653, 654, 654, 657, 658, 658, 660, 661, 661, 661, 663, 663, 664, 665, 665, 666, 667, 668, 668, 669, 671, 672, 674, 675, 676, 676, 678, 678, 678, 679, 682, 682, 683, 684, 685, 685, 686, 686, 687, 688, 689, 691, 692, 693, 694, 696, 696, 696, 696, 697, 697, 697, 697, 701, 703, 703, 704, 706, 707, 711, 711, 711, 712, 712, 713, 713, 713, 714, 716, 716, 717, 718, 719, 721, 721, 721, 722, 723, 723, 725, 726, 727, 727, 728, 728, 728, 731, 733, 735, 739, 739, 740, 741, 741, 741, 743, 743, 743, 744, 744, 744, 748, 749, 751, 752, 754, 755, 755, 757, 759, 762, 762, 763, 765, 766, 768, 769, 770, 770, 771, 772, 773, 775, 776, 777, 783, 784, 786, 786, 786, 787, 787, 789, 789, 789, 791, 791, 791, 792, 792, 793, 793, 796, 797, 801, 802, 803, 803, 803, 804, 806, 807, 810, 815, 816, 816, 817, 817, 818, 821, 821, 821, 824, 824, 825, 828, 829, 830, 830, 836, 836, 836, 839, 842, 842, 843, 843, 843, 846, 847, 848, 849, 849, 851, 851, 852, 852, 853, 853, 854, 855, 856, 856, 857, 857, 858, 858, 859, 859, 863, 863, 866, 868, 868, 869, 870, 871, 871, 873, 874, 874, 875, 875, 876, 878, 878, 879, 879, 880, 882, 883, 885, 885, 885, 886, 887, 887, 887, 888, 889, 889, 889, 890, 891, 891, 891, 896, 896, 897, 897, 898, 900, 900, 901, 902, 903, 903, 903, 906, 906, 907, 907, 907, 910, 910, 911, 911, 912, 913, 913, 915, 915, 918, 918, 919, 920, 921, 922, 923, 926, 928, 929, 930, 931, 931, 931, 931, 932, 934, 935, 936, 936, 936, 936, 937, 938, 939, 940, 941, 942, 944, 946, 949, 950, 950, 951, 952, 952, 955, 956, 956, 956, 957, 958, 960, 960, 961, 963, 963, 966, 968, 968, 971, 973, 973, 976, 977, 979, 980, 982, 982, 985, 985, 985, 986, 988, 989, 990, 991, 993, 994, 994, 994, 995, 996, 997, 997, 997, 997, 998, 998 };
        assertArrayEquals(arraySort, sorter.sort(array));
    }




}
